import{_ as a,c as e,a as s,b as l,t as p,d as o,o as t}from"./app.b9783db9.js";const _=JSON.parse('{"title":".keyHeld","description":"","frontmatter":{"title":".keyHeld","order":-99},"headers":[],"relativePath":"api-client/events/keyHeld.md","lastUpdated":1675422023000}'),r={name:"api-client/events/keyHeld.md"},c={id:"frontmatter-title",tabindex:"-1"},y=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),F=o(`<p>Call a function when a client is holding down a key and when they let go of a key.</p><p>Useful for functionality like score boards.</p><p>Use <a href="https://www.toptal.com/developers/keycode" target="_blank" rel="noreferrer">https://www.toptal.com/developers/keycode</a> to determine what key number to use.</p><h2 id="register" tabindex="-1">register <a class="header-anchor" href="#register" aria-hidden="true">#</a></h2><p>Used to register a specific key to perform a function when pressed.</p><p>Arguments</p><ul><li>key code (number) to trigger the functions</li><li>A function call when the key is held down (called once)</li><li>A function call when the key is left go</li></ul><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre><code><span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> SEMI_COLON </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">186</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">keyDown</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// Prevents chat from triggering this key press.</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#82AAFF;">isAnyMenuOpen</span><span style="color:#F07178;">(</span><span style="color:#FF9CAC;">false</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">await</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">playAnimation</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">amb@code_human_in_car_mp_actions@dance@std@rds@base</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">idle_a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ANIMATION_FLAGS</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">REPEAT</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">keyUp</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// Prevents chat from triggering this key press.</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#82AAFF;">isAnyMenuOpen</span><span style="color:#F07178;">(</span><span style="color:#FF9CAC;">false</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">native</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clearPedTasksImmediately</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">alt</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Player</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">local</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scriptID</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">AthenaClient</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">events</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">keyHeld</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">register</span><span style="color:#A6ACCD;">(SEMI_COLON</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> keyDown</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> keyUp)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="unregister" tabindex="-1">unregister <a class="header-anchor" href="#unregister" aria-hidden="true">#</a></h2><p>Simply unregisters the key, and all related functions.</p><p>Requires the original functions to unbind them.</p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre><code><span class="line"><span style="color:#A6ACCD;">AthenaClient</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">events</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">keyHeld</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unregister</span><span style="color:#A6ACCD;">(SEMI_COLON</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> keyDown</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> keyUp)</span></span>
<span class="line"></span></code></pre></div>`,12);function i(n,D,A,d,C,h){return t(),e("div",null,[s("h1",c,[l(p(n.$frontmatter.title)+" ",1),y]),F])}const f=a(r,[["render",i]]);export{_ as __pageData,f as default};
